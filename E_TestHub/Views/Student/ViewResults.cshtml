@{
    ViewData["Title"] = "Kết quả bài thi - Sinh Viên";
    Layout = "~/Views/Shared/_DashboardLayout.cshtml";
}

@section Styles {
    <link href="~/css/shared/dashboard.css" rel="stylesheet">
    <link href="~/css/student/view-results.css" rel="stylesheet">
}

<div class="exam-results-container">
    <!-- Left Sidebar - Question List -->
    <div class="questions-sidebar">
        <div class="sidebar-header">
            <div class="sidebar-title">Danh sách câu hỏi</div>
            <div class="exam-info">Đã hoàn thành: 1/12 câu hỏi</div>
            <div class="exam-info">Thời gian nộp bài: 05 phút 01 giây</div>
            <div class="exam-score">Điểm số: <span class="score-value">8/10</span></div>
        </div>
        
        <div class="question-stats">
            <div class="stat-row">
                <span class="stat-label">Tổng số câu:</span>
                <span class="stat-value">12</span>
            </div>
            <div class="stat-row">
                <span class="stat-label">Đúng:</span>
                <span class="stat-value correct">8</span>
            </div>
            <div class="stat-row">
                <span class="stat-label">Sai:</span>
                <span class="stat-value incorrect">4</span>
            </div>
        </div>
        
        <div class="question-grid" id="questionGrid">
            <div class="question-number correct" data-question="1" onclick="showQuestion(1)">1</div>
            <div class="question-number incorrect" data-question="2" onclick="showQuestion(2)">2</div>
            <div class="question-number correct" data-question="3" onclick="showQuestion(3)">3</div>
            <div class="question-number correct" data-question="4" onclick="showQuestion(4)">4</div>
            <div class="question-number incorrect" data-question="5" onclick="showQuestion(5)">5</div>
            <div class="question-number correct" data-question="6" onclick="showQuestion(6)">6</div>
            <div class="question-number correct" data-question="7" onclick="showQuestion(7)">7</div>
            <div class="question-number incorrect" data-question="8" onclick="showQuestion(8)">8</div>
            <div class="question-number correct" data-question="9" onclick="showQuestion(9)">9</div>
            <div class="question-number correct" data-question="10" onclick="showQuestion(10)">10</div>
            <div class="question-number correct" data-question="11" onclick="showQuestion(11)">11</div>
            <div class="question-number incorrect" data-question="12" onclick="showQuestion(12)">12</div>
        </div>
    </div>

    <!-- Main Content Area -->
    <div class="exam-main-content">
        <!-- Header -->
        <div class="exam-header">
            <div class="header-left">
                <a href="@Url.Action("MyExams", "Student")" class="back-btn">
                    <i class="fas fa-arrow-left"></i>
                    Quay lại
                </a>
                <h2 class="exam-title">Thi sinh: Võ Nguyễn Thanh Hiếu</h2>
            </div>
        </div>

        <!-- Question Content -->
        <div class="question-content">
            <div id="questionContainer">
                <!-- Question 1 -->
                <div class="question-block" id="question1" style="display: block;">
                    <div class="question-header">
                        <h3 class="question-title">Câu 1</h3>
                        <p class="question-text">How many lamps ...............?.................... one</p>
                    </div>
                    
                    <ul class="answer-options">
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q1" value="A" disabled>
                                <span class="answer-text">there are / There are</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q1" value="B" disabled>
                                <span class="answer-text">are there / Is there</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q1" value="C" disabled>
                                <span class="answer-text">there are / There is</span>
                            </label>
                        </li>
                        <li class="answer-option correct">
                            <label>
                                <input type="radio" name="q1" value="D" disabled checked>
                                <span class="answer-text">are there / There is</span>
                                <span class="answer-status correct">Đúng</span>
                            </label>
                        </li>
                    </ul>
                </div>

                <!-- Question 2 -->
                <div class="question-block" id="question2" style="display: none;">
                    <div class="question-header">
                        <h3 class="question-title">Câu 2</h3>
                        <p class="question-text">A hairdresser ..........my hair.</p>
                    </div>
                    
                    <ul class="answer-options">
                        <li class="answer-option user-selected incorrect">
                            <label>
                                <input type="radio" name="q2" value="A" disabled checked>
                                <span class="answer-text">cuts</span>
                                <span class="answer-status incorrect">Bạn chọn</span>
                            </label>
                        </li>
                        <li class="answer-option correct">
                            <label>
                                <input type="radio" name="q2" value="B" disabled>
                                <span class="answer-text">Do</span>
                                <span class="answer-status correct">Đáp án đúng</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q2" value="C" disabled>
                                <span class="answer-text">make</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q2" value="D" disabled>
                                <span class="answer-text">cut</span>
                            </label>
                        </li>
                    </ul>
                </div>

                <!-- Question 3 -->
                <div class="question-block" id="question3" style="display: none;">
                    <div class="question-header">
                        <h3 class="question-title">Câu 3</h3>
                        <p class="question-text">Jane ............ from Australia. She ........... two languages: English and French</p>
                    </div>
                    
                    <ul class="answer-options">
                        <li class="answer-option user-selected correct">
                            <label>
                                <input type="radio" name="q3" value="A" disabled checked>
                                <span class="answer-text">Comes / speaks</span>
                                <span class="answer-status correct">Đúng</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q3" value="B" disabled>
                                <span class="answer-text">Comes / speak</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q3" value="C" disabled>
                                <span class="answer-text">Come / speak</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q3" value="D" disabled>
                                <span class="answer-text">Come / speaks</span>
                            </label>
                        </li>
                    </ul>
                </div>

                <!-- Question 4 -->
                <div class="question-block" id="question4" style="display: none;">
                    <div class="question-header">
                        <h3 class="question-title">Câu 4</h3>
                        <p class="question-text">She _______ to school every day.</p>
                    </div>
                    
                    <ul class="answer-options">
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q4" value="A" disabled>
                                <span class="answer-text">go</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q4" value="B" disabled>
                                <span class="answer-text">going</span>
                            </label>
                        </li>
                        <li class="answer-option user-selected correct">
                            <label>
                                <input type="radio" name="q4" value="C" disabled checked>
                                <span class="answer-text">goes</span>
                                <span class="answer-status correct">Đúng</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q4" value="D" disabled>
                                <span class="answer-text">gone</span>
                            </label>
                        </li>
                    </ul>
                </div>

                <!-- Question 5 -->
                <div class="question-block" id="question5" style="display: none;">
                    <div class="question-header">
                        <h3 class="question-title">Câu 5</h3>
                        <p class="question-text">What time _______ you get up?</p>
                    </div>
                    
                    <ul class="answer-options">
                        <li class="answer-option correct">
                            <label>
                                <input type="radio" name="q5" value="A" disabled>
                                <span class="answer-text">do</span>
                                <span class="answer-status correct">Đáp án đúng</span>
                            </label>
                        </li>
                        <li class="answer-option user-selected incorrect">
                            <label>
                                <input type="radio" name="q5" value="B" disabled checked>
                                <span class="answer-text">does</span>
                                <span class="answer-status incorrect">Bạn chọn</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q5" value="C" disabled>
                                <span class="answer-text">are</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q5" value="D" disabled>
                                <span class="answer-text">is</span>
                            </label>
                        </li>
                    </ul>
                </div>

                <!-- Question 6 -->
                <div class="question-block" id="question6" style="display: none;">
                    <div class="question-header">
                        <h3 class="question-title">Câu 6</h3>
                        <p class="question-text">I _______ coffee every morning.</p>
                    </div>
                    
                    <ul class="answer-options">
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q6" value="A" disabled>
                                <span class="answer-text">drinks</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q6" value="B" disabled>
                                <span class="answer-text">drinking</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q6" value="C" disabled>
                                <span class="answer-text">drank</span>
                            </label>
                        </li>
                        <li class="answer-option user-selected correct">
                            <label>
                                <input type="radio" name="q6" value="D" disabled checked>
                                <span class="answer-text">drink</span>
                                <span class="answer-status correct">Đúng</span>
                            </label>
                        </li>
                    </ul>
                </div>

                <!-- Question 7 -->
                <div class="question-block" id="question7" style="display: none;">
                    <div class="question-header">
                        <h3 class="question-title">Câu 7</h3>
                        <p class="question-text">They _______ playing football now.</p>
                    </div>
                    
                    <ul class="answer-options">
                        <li class="answer-option user-selected correct">
                            <label>
                                <input type="radio" name="q7" value="A" disabled checked>
                                <span class="answer-text">are</span>
                                <span class="answer-status correct">Đúng</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q7" value="B" disabled>
                                <span class="answer-text">is</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q7" value="C" disabled>
                                <span class="answer-text">am</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q7" value="D" disabled>
                                <span class="answer-text">be</span>
                            </label>
                        </li>
                    </ul>
                </div>

                <!-- Question 8 -->
                <div class="question-block" id="question8" style="display: none;">
                    <div class="question-header">
                        <h3 class="question-title">Câu 8</h3>
                        <p class="question-text">Where _______ you live?</p>
                    </div>
                    
                    <ul class="answer-options">
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q8" value="A" disabled>
                                <span class="answer-text">does</span>
                            </label>
                        </li>
                        <li class="answer-option correct">
                            <label>
                                <input type="radio" name="q8" value="B" disabled>
                                <span class="answer-text">do</span>
                                <span class="answer-status correct">Đáp án đúng</span>
                            </label>
                        </li>
                        <li class="answer-option user-selected incorrect">
                            <label>
                                <input type="radio" name="q8" value="C" disabled checked>
                                <span class="answer-text">are</span>
                                <span class="answer-status incorrect">Bạn chọn</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q8" value="D" disabled>
                                <span class="answer-text">is</span>
                            </label>
                        </li>
                    </ul>
                </div>

                <!-- Question 9 -->
                <div class="question-block" id="question9" style="display: none;">
                    <div class="question-header">
                        <h3 class="question-title">Câu 9</h3>
                        <p class="question-text">My sister _______ very well.</p>
                    </div>
                    
                    <ul class="answer-options">
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q9" value="A" disabled>
                                <span class="answer-text">cook</span>
                            </label>
                        </li>
                        <li class="answer-option user-selected correct">
                            <label>
                                <input type="radio" name="q9" value="B" disabled checked>
                                <span class="answer-text">cooks</span>
                                <span class="answer-status correct">Đúng</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q9" value="C" disabled>
                                <span class="answer-text">cooking</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q9" value="D" disabled>
                                <span class="answer-text">cooked</span>
                            </label>
                        </li>
                    </ul>
                </div>

                <!-- Question 10 -->
                <div class="question-block" id="question10" style="display: none;">
                    <div class="question-header">
                        <h3 class="question-title">Câu 10</h3>
                        <p class="question-text">We _______ students.</p>
                    </div>
                    
                    <ul class="answer-options">
                        <li class="answer-option user-selected correct">
                            <label>
                                <input type="radio" name="q10" value="A" disabled checked>
                                <span class="answer-text">are</span>
                                <span class="answer-status correct">Đúng</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q10" value="B" disabled>
                                <span class="answer-text">is</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q10" value="C" disabled>
                                <span class="answer-text">am</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q10" value="D" disabled>
                                <span class="answer-text">be</span>
                            </label>
                        </li>
                    </ul>
                </div>

                <!-- Question 11 -->
                <div class="question-block" id="question11" style="display: none;">
                    <div class="question-header">
                        <h3 class="question-title">Câu 11</h3>
                        <p class="question-text">He _______ his homework every day.</p>
                    </div>
                    
                    <ul class="answer-options">
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q11" value="A" disabled>
                                <span class="answer-text">do</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q11" value="B" disabled>
                                <span class="answer-text">doing</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q11" value="C" disabled>
                                <span class="answer-text">done</span>
                            </label>
                        </li>
                        <li class="answer-option user-selected correct">
                            <label>
                                <input type="radio" name="q11" value="D" disabled checked>
                                <span class="answer-text">does</span>
                                <span class="answer-status correct">Đúng</span>
                            </label>
                        </li>
                    </ul>
                </div>

                <!-- Question 12 -->
                <div class="question-block" id="question12" style="display: none;">
                    <div class="question-header">
                        <h3 class="question-title">Câu 12</h3>
                        <p class="question-text">_______ you like pizza?</p>
                    </div>
                    
                    <ul class="answer-options">
                        <li class="answer-option user-selected incorrect">
                            <label>
                                <input type="radio" name="q12" value="A" disabled checked>
                                <span class="answer-text">Does</span>
                                <span class="answer-status incorrect">Bạn chọn</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q12" value="B" disabled>
                                <span class="answer-text">Are</span>
                            </label>
                        </li>
                        <li class="answer-option correct">
                            <label>
                                <input type="radio" name="q12" value="C" disabled>
                                <span class="answer-text">Do</span>
                                <span class="answer-status correct">Đáp án đúng</span>
                            </label>
                        </li>
                        <li class="answer-option">
                            <label>
                                <input type="radio" name="q12" value="D" disabled>
                                <span class="answer-text">Is</span>
                            </label>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Navigation Footer -->
        <div class="question-navigation">
            <button class="nav-btn" id="prevBtn" onclick="previousQuestion()">
                <i class="fas fa-chevron-left"></i>
                Câu trước
            </button>
            
            <span class="question-counter">
                Câu <span id="currentQuestionNum">1</span> / 12
            </span>
            
            <button class="nav-btn" id="nextBtn" onclick="nextQuestion()">
                Câu tiếp
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        let currentQuestionIndex = 1;
        const totalQuestions = 12;

        // Question data with results
        const questionResults = {
            1: { correct: true, userAnswer: 'D', correctAnswer: 'D' },
            2: { correct: false, userAnswer: 'A', correctAnswer: 'B' },
            3: { correct: true, userAnswer: 'A', correctAnswer: 'A' },
            4: { correct: true, userAnswer: 'C', correctAnswer: 'C' },
            5: { correct: false, userAnswer: 'B', correctAnswer: 'A' },
            6: { correct: true, userAnswer: 'D', correctAnswer: 'D' },
            7: { correct: true, userAnswer: 'A', correctAnswer: 'A' },
            8: { correct: false, userAnswer: 'C', correctAnswer: 'B' },
            9: { correct: true, userAnswer: 'B', correctAnswer: 'B' },
            10: { correct: true, userAnswer: 'A', correctAnswer: 'A' },
            11: { correct: true, userAnswer: 'D', correctAnswer: 'D' },
            12: { correct: false, userAnswer: 'A', correctAnswer: 'C' }
        };

        function showQuestion(questionNum) {
            // Hide all questions
            for (let i = 1; i <= totalQuestions; i++) {
                const questionElement = document.getElementById(`question${i}`);
                if (questionElement) {
                    questionElement.style.display = 'none';
                }
            }

            // Show selected question
            const selectedQuestion = document.getElementById(`question${questionNum}`);
            if (selectedQuestion) {
                selectedQuestion.style.display = 'block';
            } else {
                console.log(`Question ${questionNum} not found`);
            }

            // Update current question index
            currentQuestionIndex = questionNum;

            // Update navigation buttons
            updateNavigationButtons();

            // Update question counter
            document.getElementById('currentQuestionNum').textContent = questionNum;

            // Update question number highlighting
            updateQuestionHighlight();
        }

        function updateQuestionHighlight() {
            // Remove current class from all question numbers
            document.querySelectorAll('.question-number').forEach(element => {
                element.classList.remove('current');
            });

            // Add current class to selected question using data-question attribute
            const currentElement = document.querySelector(`.question-number[data-question="${currentQuestionIndex}"]`);
            if (currentElement) {
                currentElement.classList.add('current');
            }
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');

            prevBtn.disabled = currentQuestionIndex === 1;
            nextBtn.disabled = currentQuestionIndex === totalQuestions;
        }

        function previousQuestion() {
            if (currentQuestionIndex > 1) {
                showQuestion(currentQuestionIndex - 1);
            }
        }

        function nextQuestion() {
            if (currentQuestionIndex < totalQuestions) {
                showQuestion(currentQuestionIndex + 1);
            }
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            showQuestion(1);
        });
    </script>
}