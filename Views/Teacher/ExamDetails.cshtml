@{
    ViewData["Title"] = "Chi tiết đề thi";
    Layout = "~/Views/Shared/_DashboardLayout.cshtml";
}

@section Styles {
    <link href="~/css/shared/dashboard.css" rel="stylesheet">
    <link href="~/css/teacher/exam-details.css" rel="stylesheet">
}

<!-- Welcome Section -->
<div class="dashboard-welcome-section">
    <h1 class="dashboard-welcome-title" style="font-weight: 700; color: #1a73e8;">Chi tiết đề thi</h1>
    <p class="dashboard-welcome-subtitle">Xem và quản lý thông tin chi tiết của đề thi</p>
</div>

<!-- Action Cards -->
<div class="dashboard-action-cards">
    <a href="@Url.Action("ExamManagement", "Teacher")" class="dashboard-action-card">
        <div class="dashboard-action-icon">
            <i class="fas fa-arrow-left"></i>
        </div>
        <h3 class="dashboard-action-title">Quay lại</h3>
        <p class="dashboard-action-subtitle">Về danh sách đề thi</p>
    </a>

    <a href="#" class="dashboard-action-card" onclick="alert('Tính năng đang phát triển'); return false;">
        <div class="dashboard-action-icon">
            <i class="fas fa-edit"></i>
        </div>
        <h3 class="dashboard-action-title">Chỉnh sửa</h3>
        <p class="dashboard-action-subtitle">Sửa đổi đề thi</p>
    </a>

    <a href="#" class="dashboard-action-card" onclick="alert('Tính năng đang phát triển'); return false;">
        <div class="dashboard-action-icon">
            <i class="fas fa-copy"></i>
        </div>
        <h3 class="dashboard-action-title">Sao chép</h3>
        <p class="dashboard-action-subtitle">Tạo bản sao đề thi</p>
    </a>
</div>

<!-- Content Sections -->
<div class="dashboard-content-sections">
    <!-- Exam Information Section -->
    <div class="dashboard-section">
        <div class="dashboard-section-header">
            <h3 class="dashboard-section-title">Thông tin đề thi</h3>
        </div>

        <div class="exam-info-grid">
            <div class="exam-info-card">
                <div class="exam-info-header">
                    <i class="fas fa-file-alt"></i>
                    <h4>Thông tin cơ bản</h4>
                </div>
                <div class="exam-info-body">
                    <div class="info-row">
                        <span class="info-label">Tên đề thi:</span>
                        <span class="info-value">@ViewBag.Exam.Name</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Môn học:</span>
                        <span class="info-value">@ViewBag.Exam.Subject</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Lớp:</span>
                        <span class="info-value">@ViewBag.Exam.Class</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Thời gian làm bài:</span>
                        <span class="info-value">@ViewBag.Exam.Duration phút</span>
                    </div>
                </div>
            </div>

            <div class="exam-info-card">
                <div class="exam-info-header">
                    <i class="fas fa-chart-bar"></i>
                    <h4>Thống kê</h4>
                </div>
                <div class="exam-info-body">
                    <div class="info-row">
                        <span class="info-label">Số câu hỏi:</span>
                        <span class="info-value">@ViewBag.Exam.TotalQuestions câu</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Tổng điểm:</span>
                        <span class="info-value">@ViewBag.Exam.TotalPoints điểm</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Trạng thái:</span>
                        @if (ViewBag.Exam.Status == "published")
                        {
                            <span class="info-value status-badge published">
                                <i class="fas fa-check-circle"></i> Đã xuất bản
                            </span>
                        }
                        else
                        {
                            <span class="info-value status-badge draft">
                                <i class="fas fa-edit"></i> Nháp
                            </span>
                        }
                    </div>
                    <div class="info-row">
                        <span class="info-label">Ngày tạo:</span>
                        <span class="info-value">@ViewBag.Exam.CreatedDate.ToString("dd/MM/yyyy")</span>
                    </div>
                </div>
            </div>
        </div>

        @if (!string.IsNullOrEmpty(ViewBag.Exam.Description))
        {
            <div class="exam-description">
                <h4>Mô tả</h4>
                <p>@ViewBag.Exam.Description</p>
            </div>
        }
    </div>

    <!-- Questions Section -->
    <div class="dashboard-section">
        <div class="dashboard-section-header">
            <h3 class="dashboard-section-title">Danh sách câu hỏi</h3>
            <span class="question-count">@ViewBag.Questions.Length câu hỏi</span>
        </div>

        <div class="questions-list">
            @foreach (var question in ViewBag.Questions)
            {
                <div class="question-item">
                    <div class="question-header">
                        <div class="question-meta">
                            <span class="question-type">
                                @if (question.Type == "multiple-choice")
                                {
                                    @: <i class="fas fa-list-ul"></i> Trắc nghiệm
                                }
                                else if (question.Type == "essay")
                                {
                                    @: <i class="fas fa-pen"></i> Tự luận
                                }
                                else
                                {
                                    @: <i class="fas fa-question"></i> Khác
                                }
                            </span>
                            <span class="question-points">@question.Points điểm</span>
                        </div>
                        <div class="question-actions">
                            <button class="question-action-btn" title="Xem chi tiết" onclick="alert('Tính năng đang phát triển'); return false;">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="question-action-btn" title="Chỉnh sửa" onclick="alert('Tính năng đang phát triển'); return false;">
                                <i class="fas fa-edit"></i>
                            </button>
                        </div>
                    </div>
                    <div class="question-content">
                        <p>@question.Content</p>
                    </div>
                </div>
            }
        </div>
    </div>

    <!-- Scheduled Information Section -->
    <div class="dashboard-section">
        <div class="dashboard-section-header">
            <h3 class="dashboard-section-title">Lịch thi</h3>
        </div>

        <div class="schedule-info">
            <div class="schedule-item">
                <i class="fas fa-calendar-alt"></i>
                <div class="schedule-details">
                    <h4>Ngày thi dự kiến</h4>
                    <p>@ViewBag.Exam.ScheduledDate.ToString("dddd, dd/MM/yyyy", new System.Globalization.CultureInfo("vi-VN"))</p>
                </div>
            </div>
            <div class="schedule-item">
                <i class="fas fa-clock"></i>
                <div class="schedule-details">
                    <h4>Thời gian làm bài</h4>
                    <p>@ViewBag.Exam.Duration phút</p>
                </div>
            </div>
        </div>
    </div>
</div>


