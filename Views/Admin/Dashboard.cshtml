@{
    ViewData["Title"] = "Dashboard - Quản Trị Viên";
    Layout = "~/Views/Shared/_DashboardLayout.cshtml";
}

@section Styles {
    <!-- Dashboard CSS is now included in _DashboardLayout.cshtml -->
}

<!-- Welcome Section -->
<div class="dashboard-welcome-section">
    <h1 class="dashboard-welcome-title">Xin chào,</h1>
    <h2 class="dashboard-welcome-name">@ViewBag.UserName</h2>
</div>

<!-- Action Cards -->
<div class="dashboard-action-cards">
    <a href="@Url.Action("UserManagement", "Admin")" class="dashboard-action-card">
        <div class="dashboard-action-icon">
            <i class="fas fa-users-cog"></i>
        </div>
        <h3 class="dashboard-action-title">Quản lý người dùng</h3>
    </a>

    <a href="@Url.Action("CreateUser", "Admin")" class="dashboard-action-card">
        <div class="dashboard-action-icon">
            <i class="fas fa-user-plus"></i>
        </div>
        <h3 class="dashboard-action-title">Thêm người dùng</h3>
    </a>

    <a href="@Url.Action("SchoolManagement", "Admin")" class="dashboard-action-card">
        <div class="dashboard-action-icon">
            <i class="fas fa-school"></i>
        </div>
        <h3 class="dashboard-action-title">Quản lý trường học</h3>
    </a>

    <a href="@Url.Action("Reports", "Admin")" class="dashboard-action-card">
        <div class="dashboard-action-icon">
            <i class="fas fa-chart-bar"></i>
        </div>
        <h3 class="dashboard-action-title">Báo cáo thống kê</h3>
    </a>

    <a href="@Url.Action("AuditLogs", "Admin")" class="dashboard-action-card">
        <div class="dashboard-action-icon">
            <i class="fas fa-history"></i>
        </div>
        <h3 class="dashboard-action-title">Nhật ký kiểm tra</h3>
    </a>

    <a href="@Url.Action("SystemSettings", "Admin")" class="dashboard-action-card">
        <div class="dashboard-action-icon">
            <i class="fas fa-cogs"></i>
        </div>
        <h3 class="dashboard-action-title">Cài đặt hệ thống</h3>
    </a>
</div>

<!-- Content Sections -->
<div class="dashboard-content-sections">
    <!-- System Overview Section -->
    <div class="dashboard-section">
        <div class="dashboard-section-header">
            <h3 class="dashboard-section-title">Tổng quan hệ thống</h3>
            <a href="@Url.Action("Reports", "Admin")" class="dashboard-view-more-btn">
                <i class="fas fa-external-link-alt"></i>
                Xem chi tiết
            </a>
        </div>

        <ul class="dashboard-item-list">
            <li class="dashboard-item">
                <div class="dashboard-item-icon">
                    <i class="fas fa-user-graduate"></i>
                </div>
                <div class="dashboard-item-content">
                    <h4 class="dashboard-item-title">Tổng số sinh viên</h4>
                    <p class="dashboard-item-subtitle">
                        @(ViewBag.SystemStats?.TotalStudents ?? 0) sinh viên trong hệ thống
                    </p>
                    @if (ViewBag.SystemStats?.NewUsersThisMonth > 0)
                    {
                        <p class="dashboard-item-subtitle">
                            <i class="fas fa-arrow-up text-success"></i>
                            @ViewBag.SystemStats.NewUsersThisMonth người dùng mới tháng này
                        </p>
                    }
                </div>
            </li>

            <li class="dashboard-item">
                <div class="dashboard-item-icon">
                    <i class="fas fa-chalkboard-teacher"></i>
                </div>
                <div class="dashboard-item-content">
                    <h4 class="dashboard-item-title">Tổng số giáo viên</h4>
                    <p class="dashboard-item-subtitle">
                        @(ViewBag.SystemStats?.TotalTeachers ?? 0) giáo viên trong hệ thống
                    </p>
                    <p class="dashboard-item-subtitle">
                        @(ViewBag.SystemStats?.ActiveUsers ?? 0) người dùng đang hoạt động
                    </p>
                </div>
            </li>
        </ul>
    </div>

    <!-- System Statistics Section -->
    <div class="dashboard-section">
        <div class="dashboard-section-header">
            <h3 class="dashboard-section-title">Thống kê hệ thống</h3>
            <a href="@Url.Action("UserManagement", "Admin")" class="dashboard-view-more-btn">
                <i class="fas fa-external-link-alt"></i>
                Xem chi tiết
            </a>
        </div>

        <ul class="dashboard-item-list">
            <li class="dashboard-item">
                <div class="dashboard-item-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div class="dashboard-item-content">
                    <h4 class="dashboard-item-title">Tổng số người dùng</h4>
                    <p class="dashboard-item-subtitle">
                        <strong>@(ViewBag.SystemStats?.TotalUsers ?? 0)</strong> người dùng trong hệ thống
                    </p>
                    <p class="dashboard-item-subtitle">
                        <span class="text-success">@(ViewBag.SystemStats?.ActiveUsers ?? 0) hoạt động</span>
                        <span class="text-muted mx-2">•</span>
                        <span class="text-secondary">@(ViewBag.SystemStats?.InactiveUsers ?? 0) không hoạt động</span>
                    </p>
                </div>
            </li>

            <li class="dashboard-item">
                <div class="dashboard-item-icon">
                    <i class="fas fa-user-shield"></i>
                </div>
                <div class="dashboard-item-content">
                    <h4 class="dashboard-item-title">Phân loại theo vai trò</h4>
                    <p class="dashboard-item-subtitle">
                        <i class="fas fa-user-graduate text-primary"></i> 
                        @(ViewBag.SystemStats?.TotalStudents ?? 0) Sinh viên
                    </p>
                    <p class="dashboard-item-subtitle">
                        <i class="fas fa-chalkboard-teacher text-success"></i>
                        @(ViewBag.SystemStats?.TotalTeachers ?? 0) Giáo viên
                        <span class="text-muted mx-2">•</span>
                        <i class="fas fa-user-cog text-warning"></i>
                        @(ViewBag.SystemStats?.TotalAdmins ?? 0) Quản trị viên
                    </p>
                </div>
            </li>
        </ul>
    </div>
</div>